[supervisord]
nodaemon=true

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
startsecs = 3
autostart = true
autorestart = true 
stdout_logfile = /var/log/webapplications/supervisord-nginx.log
stderr_logfile = /var/log/webapplications/supervisord-nginx-error.log

[program:uwsgi]
command=/usr/local/bin/uwsgi --ini  uwsgi.ini
directory=/django_project
stdout_logfile=/var/log/webapplications/uwsgi_out.log
stderr_logfile=/var/log/webapplications/uwsgi_err.log
autostart=true
autorestart=true
user=root
startsecs=10

[program:daphne]
command=daphne -b 0.0.0.0 -p 8001 project.asgi:application
directory=/django_project
stdout_logfile=/var/log/webapplications/websocket_out.log
stderr_logfile=/var/log/webapplications/websocket_err.log
autostart=true
autorestart=true
user=root
startsecs=10

[program:worker]
command=celery -A project worker -B
directory=/django_project
stdout_logfile=/var/log/webapplications/worker_out.log
stderr_logfile=/var/log/webapplications/worker_err.log
autostart=true
autorestart=true
user=root
startsecs=10




